<!DOCTYPE html>


<html lang="zh-CN">


<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="Kæ®¿" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    å¤§æ•°æ® |  Kæ®¿
  </title>
  <meta name="generator" content="hexo-theme-ayer">
  
  <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/Khighness/Khighness.github.io/k.ico" />
  
  
<link rel="stylesheet" href="/dist/main.css">

  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Shen-Yu/cdn/css/remixicon.min.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
  
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

  
  

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'ParaK', 'auto');
ga('send', 'pageview');

</script>



  
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?ParaK";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script>


  <!-- å°é¢æ ‡é¢˜é—ªçƒ -->
  <link rel="stylesheet" href="/css/titleFlash.css">
  <!-- æµè§ˆå™¨æç¬‘æ ‡é¢˜ -->
<!--  <script type="text/javascript">
  //
  var OriginTitle = document.title;
  var titleTime;
  document.addEventListener('visibilitychange', function () {
      if (location.href != "https://www.xxxzhy.com/"){//ä¸»é¡µä¸å˜
          if (document.hidden) {
              //$('[rel="icon"]').attr('href', "/funny.ico");
              document.title = '/(ã„’oã„’)/ä½ å¼„ä¸¢äº†XXXZhy';
              clearTimeout(titleTime);
          }else {
              //$('[rel="icon"]').attr('href', "/favicon.ico");
              document.title = '(à¸…>Ï‰<*à¸…) å™«åˆå¥½å•¦~' + OriginTitle;
              titleTime = setTimeout(function () {
                  document.title = OriginTitle;
              }, 2000);
          }
      }
  });
  </script> -->
  <!-- ç™¾åº¦è‡ªåŠ¨æ¨é€ -->
  <script>
  (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
          bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else {
          bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
  })();
  </script>
<link rel="alternate" href="/atom.xml" title="Khighness" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

</html>


<body>
  <div id="app">
    
      <canvas class="fireworks"></canvas>
      <style>
        .fireworks {
          position: fixed;
          left: 0;
          top: 0;
          z-index: 99999;
          pointer-events: none;
        }
      </style>
      
      
    <main class="content on">
      <section class="outer">
  <article
  id="post-Hadoop"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  å¤§æ•°æ®
</h1>
 

    </header>
     
    <div class="article-meta">
      <a href="/posts/ec060e02/" class="article-date">
  <time datetime="2020-10-01T16:00:00.000Z" itemprop="datePublished">2020-10-02</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Cloud/">Cloud</a>
  </div>
  
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> å­—æ•°ç»Ÿè®¡:</span>
            <span class="post-count">6.1k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> é˜…è¯»æ—¶é•¿â‰ˆ</span>
            <span class="post-count">32 åˆ†é’Ÿ</span>
        </span>
    </span>
</div>
 
    </div>
      
    <div class="tocbot"></div>




  
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="å¤§æ•°æ®ä¸äº‘è®¡ç®—"><a href="#å¤§æ•°æ®ä¸äº‘è®¡ç®—" class="headerlink" title="å¤§æ•°æ®ä¸äº‘è®¡ç®—"></a>å¤§æ•°æ®ä¸äº‘è®¡ç®—</h1><center>
    <font face="Kristen ITC" color="#555555" font-size=100px>ğŸ’Œ Khighness ğŸ’Œ</font><br>
</center>





<h2 id="1-å®‰è£…CentOS7"><a href="#1-å®‰è£…CentOS7" class="headerlink" title="1. å®‰è£…CentOS7"></a>1. å®‰è£…CentOS7</h2><h3 id="1-ä¸‹è½½é•œåƒ"><a href="#1-ä¸‹è½½é•œåƒ" class="headerlink" title="1. ä¸‹è½½é•œåƒ"></a>1. ä¸‹è½½é•œåƒ</h3><blockquote>
<p>ISO: <a target="_blank" rel="noopener" href="https://www.centos.org/download/">CentOS7 X86_64</a></p>
</blockquote>
<img src="/posts/ec060e02/image-20200915192222693.png" class="" title="image-20200915192222693">



<a id="more"></a>



<h3 id="2-å®‰è£…ç³»ç»Ÿ"><a href="#2-å®‰è£…ç³»ç»Ÿ" class="headerlink" title="2. å®‰è£…ç³»ç»Ÿ"></a>2. å®‰è£…ç³»ç»Ÿ</h3><img src="/posts/ec060e02/image-20200914201854650.png" class="" title="image-20200914201854650">

<img src="/posts/ec060e02/image-20200914201950325.png" class="" title="image-20200914201950325">



<img src="/posts/ec060e02/image-20200914202216056.png" class="" title="image-20200914202216056">



<h3 id="3-è™šæ‹Ÿæœºå®Œæˆ"><a href="#3-è™šæ‹Ÿæœºå®Œæˆ" class="headerlink" title="3. è™šæ‹Ÿæœºå®Œæˆ"></a>3. è™šæ‹Ÿæœºå®Œæˆ</h3><img src="/posts/ec060e02/image-20200914204312121.png" class="" title="image-20200914204312121">



<h3 id="4-å®‰è£…Docker"><a href="#4-å®‰è£…Docker" class="headerlink" title="4. å®‰è£…Docker"></a>4. å®‰è£…Docker</h3><blockquote>
<p>Dockerè¦æ±‚CentOSç³»ç»Ÿçš„å†…æ ¸ç‰ˆæœ¬é«˜äº 3.10ï¼ŒæŸ¥çœ‹CentOSç‰ˆæœ¬æ˜¯å¦æ”¯æŒ Docker</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">uname -r<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="Hadoop%5Cimage-20200922202458823.png" alt="image-20200922202458823"></p>
<blockquote>
<p>ç¡®ä¿yumåŒ…æ›´æ–°åˆ°æœ€æ–°</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum update<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922202118583.png" class="" title="image-20200922202118583">

<img src="/posts/ec060e02/image-20200922202544937.png" class="" title="image-20200922202544937">

<blockquote>
<p>å®‰è£…è¿‡Dockeråˆ™å¸è½½æ—§ç‰ˆæœ¬</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum remove docker  docker-common docker-selinux docker-engine<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922204747806.png" class="" title="image-20200922204747806">

<blockquote>
<p>å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ yum-util æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–çš„</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum install -y yum-utils device-mapper-persistent-data lvm2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922203530629.png" class="" title="image-20200922203530629">

<blockquote>
<p>è®¾ç½®yumæºï¼ˆä½¿ç”¨é˜¿é‡Œäº‘åœ°å€ï¼‰</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922203620500.png" class="" title="image-20200922203620500">

<blockquote>
<p>å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ä»“åº“ä¸­æ‰€æœ‰çš„dockerç‰ˆæœ¬ï¼Œå¹¶é€‰æ‹©ç‰¹å®šç‰ˆæœ¬å®‰è£…</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">yum list docker-ce --showduplicates | sort -r<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922203726104.png" class="" title="image-20200922203726104">

<blockquote>
<p>å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Engine-Community å’Œ containerd</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo yum install docker-ce docker-ce-cli containerd.io<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922204125206.png" class="" title="image-20200922204125206">

<blockquote>
<p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">docker version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922204248819.png" class="" title="image-20200922204248819">

<blockquote>
<p>å¯åŠ¨Docker</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922204613291.png" class="" title="image-20200922204613291">

<blockquote>
<p>è¿è¡ŒHello World</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sudo docker run hello-world<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200922204637363.png" class="" title="image-20200922204637363">



<h2 id="2-æ­å»ºHadoopé›†ç¾¤"><a href="#2-æ­å»ºHadoopé›†ç¾¤" class="headerlink" title="2. æ­å»ºHadoopé›†ç¾¤"></a>2. æ­å»ºHadoopé›†ç¾¤</h2><h3 id="1-ä¸‹è½½å¹¶é…ç½®JDK"><a href="#1-ä¸‹è½½å¹¶é…ç½®JDK" class="headerlink" title="1. ä¸‹è½½å¹¶é…ç½®JDK"></a>1. ä¸‹è½½å¹¶é…ç½®JDK</h3><blockquote>
<p>ä¸‹è½½ jdk</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">yum install java-1.8.0-openjdk* -y<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914205909499.png" class="" title="image-20200914205909499">

<blockquote>
<p>è·å–JAVA_HOME</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">dirname $(readlink $(readlink $(which java))) <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">vi /etc/profile

export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=$JAVA_HOME/lib:$JRE_HOME/lib:$CLASSPATH
export PATH=$JAVA_HOME/bin:$JRE_HOME/bin:$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914210707353.png" class="" title="image-20200914210707353">

<blockquote>
<p>æŸ¥çœ‹JAVA_HOME</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">source /etc/profile
echo $JAVA_HOME<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200930135506971.png" class="" title="image-20200930135506971">

<blockquote>
<p>æµ‹è¯•</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">java -version<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200930135637993.png" class="" title="image-20200930135637993">



<h3 id="2-é…ç½®Hostsåˆ—è¡¨"><a href="#2-é…ç½®Hostsåˆ—è¡¨" class="headerlink" title="2. é…ç½®Hostsåˆ—è¡¨"></a>2. é…ç½®Hostsåˆ—è¡¨</h3><p>ç”±äºä¸¤å°è™šæ‹Ÿæœºæ˜¯åŒä¸€å°è™šæ‹Ÿæœºå¤åˆ¶è€Œæ¥ï¼Œæ‰€ä»¥å¿…é¡»å…ˆé‡æ–°ç”ŸæˆMacåœ°å€</p>
<img src="/posts/ec060e02/image-20200930135951474.png" class="" title="image-20200930135951474">

<blockquote>
<p>master å’Œ slave ç¦ç”¨é˜²ç«å¢™</p>
</blockquote>
<p>åœæ­¢é˜²ç«å¢™ </p>
<pre class="line-numbers language-shell"><code class="language-shell">systemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¦ç”¨é˜²ç«å¢™</p>
<pre class="line-numbers language-shell"><code class="language-shell">systemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200913225928453.png" class="" title="image-20200913225928453">

<blockquote>
<p>master å’Œ slave ä¿®æ”¹ä¸»æœºå</p>
</blockquote>
<pre class="line-numbers language-she"><code class="language-she">vi /etc/sysconfig/network<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200913230804529.png" class="" title="image-20200913230804529">

<img src="/posts/ec060e02/image-20200913230917724.png" class="" title="image-20200913230917724">

<blockquote>
<p>ç¡®è®¤ä¿®æ”¹</p>
</blockquote>
<img src="/posts/ec060e02/image-20200913231003539.png" class="" title="image-20200913231003539">

<img src="/posts/ec060e02/image-20200913231047961.png" class="" title="image-20200913231047961">

<blockquote>
<p>master å’Œ slave æ‰§è¡Œ ifconfig æŸ¥è¯¢ IP</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">ifconfig<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914215339951.png" class="" title="image-20200914215339951">

<img src="/posts/ec060e02/image-20200914215731073.png" class="" title="image-20200914215731073">

<blockquote>
<p> master å’Œ slave å°†IPåœ°å€å’Œä¸»æœºååˆ†åˆ«æ·»åŠ è‡³/etc/hostsä¸­</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">vi /etc/hosts<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914215942690.png" class="" title="image-20200914215942690">

<blockquote>
<p>master å’Œ slave ä¹‹é—´äº’ping</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914220102245.png" class="" title="image-20200914220102245">

<img src="/posts/ec060e02/image-20200914220213547.png" class="" title="image-20200914220213547">



<h3 id="3-é›†ç¾¤sshå…å¯†ç™»å½•"><a href="#3-é›†ç¾¤sshå…å¯†ç™»å½•" class="headerlink" title="3. é›†ç¾¤sshå…å¯†ç™»å½•"></a>3. é›†ç¾¤sshå…å¯†ç™»å½•</h3><p>å¯¹masteræ“ä½œï¼š</p>
<blockquote>
<p>master ç”Ÿæˆå…¬é’¥</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">ssh-keygen -t rsa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914220829338.png" class="" title="image-20200914220829338">

<blockquote>
<p>å°†å…¬é’¥è¿½åŠ åˆ°æˆæƒåˆ—è¡¨</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914221008829.png" class="" title="image-20200914221008829">

<blockquote>
<p>ä¿®æ”¹authorized_keysæ–‡ä»¶çš„æƒé™</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">chmod 600 ~/.ssh/authorized_keys <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914221036706.png" class="" title="image-20200914221036706">

<blockquote>
<p>å°†authorized_keysæ–‡ä»¶å¤åˆ¶åˆ°slaveèŠ‚ç‚¹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">scp ~/.ssh/authorized_keys parak@slave:~/.ssh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914221427275.png" class="" title="image-20200914221427275">

<blockquote>
<p>æŸ¥çœ‹slaveçš„.sshçš„ç›®å½•</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914221514758.png" class="" title="image-20200914221514758">

<blockquote>
<p>ä¿®æ”¹masterå’Œslaveçš„SSHé…ç½®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">su root
vi /etc/ssh/sshd_config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914221856072.png" class="" title="image-20200914221856072">

<blockquote>
<p>ä½¿ç”¨ssh-addæŒ‡ä»¤å°†ç§é’¥åŠ å…¥å¹¶é‡å¯sshdæœåŠ¡</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">ssh-add ~/.ssh/id_rsa
service sshd restart<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>æµ‹è¯•å…å¯†ç™»å½•</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914223950719.png" class="" title="image-20200914223950719">

<p>sshç™»å½•ä¾ç„¶éœ€è¦å¯†ç ï¼Œæˆ‘ä»¬å¯ä»¥å»çœ‹ä¸€ä¸‹masterçš„æ—¥å¿—æ–‡ä»¶</p>
<blockquote>
<p>cat  var/log/secure </p>
</blockquote>
<img src="/posts/ec060e02/image-20200916160625256.png" class="" title="image-20200916160625256">

<blockquote>
<p><strong>åŸå› </strong></p>
<p>sshdä¸ºäº†å®‰å…¨ï¼Œå¯¹å±ä¸»çš„ç›®å½•å’Œæ–‡ä»¶æƒé™æœ‰æ‰€è¦æ±‚ã€‚</p>
<p>å¦‚æœæƒé™ä¸å¯¹ï¼Œåˆ™sshçš„å…å¯†ç ç™»é™†ä¸ç”Ÿæ•ˆã€‚</p>
</blockquote>
<blockquote>
<p><strong>è§£å†³</strong></p>
<p>å°†.sshç›®å½•çš„æƒé™æ”¹ä¸º755</p>
<p>id_rsa.pubå’Œauthorized_keysæƒé™æ”¹ä¸º644</p>
<p>id_rsaæƒé™å¿…é¡»ä¸º600</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">chmod 755 .ssh
cd .ssh
chmod 644 id_rsa.pub authorized_keys
chmod 600 id_rsa<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>å†æ¬¡æµ‹è¯•å…å¯†ç™»å½•</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914224837430.png" class="" title="image-20200914224837430">



<h3 id="4-ä¸‹è½½å¹¶é…ç½®Hadoop"><a href="#4-ä¸‹è½½å¹¶é…ç½®Hadoop" class="headerlink" title="4. ä¸‹è½½å¹¶é…ç½®Hadoop"></a>4. ä¸‹è½½å¹¶é…ç½®Hadoop</h3><blockquote>
<p>ä¸‹è½½ï¼š<a target="_blank" rel="noopener" href="https://www.apache.org/dyn/closer.cgi/hadoop/common/hadoop-3.3.0/hadoop-3.3.0.tar.gz">hadoop-2.9.2</a>    é€‰æ‹©bsfuçš„åŒ—äº¬å¤–å›½è¯­å­¦é™¢çš„é•œåƒ, é€Ÿåº¦æµæ‰¹</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914211714263.png" class="" title="image-20200914211714263">

<blockquote>
<p>è§£å‹ä¸‹è½½çš„å‹ç¼©åŒ…</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">tar -zxvf hadoop-2.3.2.tar.gz<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914211633182.png" class="" title="image-20200914211633182">

<blockquote>
<p>ä¿®æ”¹æ–‡ä»¶æƒé™</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">chmod 777 hadoop-env.sh core-site.xml hdfs-site.xml yarn-site.xml mapred-site.xml slaves<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914212318855.png" class="" title="image-20200914212318855">

<blockquote>
<p>é…ç½®ç¯å¢ƒå˜é‡</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">gedit /home/parak/hadoop/hadoop-2.9.2/etc/hadoop/hadoop-env.sh

æ·»åŠ 
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64
export HADOOP_HOME=/home/parak/hadoop/hadoop-2.9.2
export PATH=$&#123;JAVA_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/bin:$&#123;HADOOP_HOME&#125;/sbin:$PATH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>é…ç½®æ ¸å¿ƒç»„ä»¶  <strong><em>core-site.xml</em></strong></p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span>
<span class="token comment" spellcheck="true">&lt;!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--></span>

<span class="token comment" spellcheck="true">&lt;!-- Put site-specific property overrides in this file. --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>hdfs://master:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>/home/parak/hadoopdata<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914213003704.png" class="" title="image-20200914213003704">

<blockquote>
<p>é…ç½®æ–‡ä»¶ç³»ç»Ÿ  <strong><em>hdfs.site.xml</em></strong></p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span>
<span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span>
<span class="token comment" spellcheck="true">&lt;!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--></span>

<span class="token comment" spellcheck="true">&lt;!-- Put site-specific property overrides in this file. --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914213047280.png" class="" title="image-20200914213047280">

<blockquote>
<p>é…ç½®æ–‡ä»¶ç³»ç»Ÿ  <strong><em>yarn-site.xml</em></strong></p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span>
<span class="token comment" spellcheck="true">&lt;!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!-- Site specific YARN configuration properties --></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.nodemanager.aux-services<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>mapreduce_shuffle<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master:18040<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.scheduler.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master:18030<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.resource-tracker.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master:18025<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.admin.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master:18141<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>yarn.resourcemanager.webapp.address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master:18088<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914213215770.png" class="" title="image-20200914213215770">

<blockquote>
<p>é…ç½®è®¡ç®—æ¡†æ¶  <strong><em>mapred-site.xml</em></strong></p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell"><?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!--
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->

<!-- Put site-specific property overrides in this file. -->

<configuration>
    <property>
        <name>mapreduce.framework.name</name>
        <value>yarn</value>
    </property>
</configuration><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914213254714.png" class="" title="image-20200914213254714">

<blockquote>
<p>åœ¨masterèŠ‚ç‚¹é…ç½®slavesæ–‡ä»¶ </p>
</blockquote>
<img src="/posts/ec060e02/image-20200914225547865.png" class="" title="image-20200914225547865">



<h3 id="5-å¯åŠ¨Hadooé›†ç¾¤"><a href="#5-å¯åŠ¨Hadooé›†ç¾¤" class="headerlink" title="5. å¯åŠ¨Hadooé›†ç¾¤"></a>5. å¯åŠ¨Hadooé›†ç¾¤</h3><blockquote>
<p>åˆ‡æ¢ç”¨æˆ·  <strong><em>parak</em></strong></p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">su parak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>é…ç½®Hadoopå¯åŠ¨çš„ç³»ç»Ÿç¯å¢ƒå˜é‡</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">cd
gedit ~/.bash_profile

æ·»åŠ ï¼š
#HADOOP
export HADOOP_HOME=/home/parak/hadoop/hadoop-2.9.2
export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH

æ‰§è¡Œï¼š
source ~/.bash_profile

éªŒè¯ï¼š
echo $&#123;HADOOP_HOME&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914213558226.png" class="" title="image-20200914213558226">

<img src="/posts/ec060e02/image-20200914230053210.png" class="" title="image-20200914230053210">

<blockquote>
<p>åˆ›å»ºæ•°æ®ç›®å½•  <strong><em>hadoopdata</em></strong></p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">mkdir /home/parak/hadoopdata
chmod 777 hadoopdata/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914225858363.png" class="" title="image-20200914225858363">

<blockquote>
<p>æ ¼å¼åŒ–æ–‡ä»¶ç³»ç»Ÿ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs namenode -format<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914230347627.png" class="" title="image-20200914230347627">

<img src="/posts/ec060e02/image-20200914230450.png" class="" title="image-20200914230450">

<blockquote>
<p>å¯åŠ¨Hadoop</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">sbin/start-all.sh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914232331519.png" class="" title="image-20200914232331519">

<blockquote>
<p>æŸ¥çœ‹è¿›ç¨‹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">jps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200914232056642.png" class="" title="image-20200914232056642">

<img src="/posts/ec060e02/image-20200914232211741.png" class="" title="image-20200914232211741">



<blockquote>
<p>è¿›å…¥ <strong>FireFox</strong> è¾“å…¥ï¼š<a target="_blank" rel="noopener" href="http://master:50070/">http://master:50070/</a>   </p>
<p>æ£€æŸ¥ <strong>namenode</strong> å’Œ <strong>datanode</strong> æ˜¯å¦æ­£å¸¸</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914232603284.png" class="" title="image-20200914232603284">



<blockquote>
<p>è¿›å…¥ <strong>FireFox</strong> è¾“å…¥ï¼š<a target="_blank" rel="noopener" href="http://master:18088/">http://master:18088/</a></p>
<p>æ£€æŸ¥ <strong>Yarn</strong> æ˜¯å¦æ­£å¸¸</p>
</blockquote>
<img src="/posts/ec060e02/image-20200914232824073.png" class="" title="image-20200914232824073">



<blockquote>
<p>è¿è¡ŒPIå®ä¾‹æ£€æŸ¥Hadoopé›†ç¾¤æ˜¯å¦æ­å»ºæˆåŠŸ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">cd ~/hadoop/hadoop-2.9.2/share/hadoop/mapreduce/
hadoop jar hadoop-mapreduce-examples-2.9.2.jar pi 10 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915083538083.png" class="" title="image-20200915083538083">

<blockquote>
<p> <strong>æŠ¥é”™</strong>ï¼šæœªæ‰¾åˆ°ä¸»æœºè·¯ç”±</p>
<p><strong>åˆ†æ</strong>ï¼šslaveçš„é˜²ç«å¢™æ²¡æœ‰å…³é—­</p>
</blockquote>
<blockquote>
<p>æ£€æŸ¥slaveçš„é˜²ç«å¢™</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">systemctl status firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915084136061.png" class="" title="image-20200915084136061">

<blockquote>
<p>å…³é—­ä¸”ç¦ç”¨é˜²ç«å¢™</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">systemctl stop firewalld
systemctl disable firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915084354244.png" class="" title="image-20200915084354244">

<blockquote>
<p>å†æ¬¡è¿è¡ŒPIå®ä¾‹</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915084909905.png" class="" title="image-20200915084909905">

<img src="/posts/ec060e02/image-20200915084933355.png" class="" title="image-20200915084933355">

<p>å¯ä»¥çœ‹åˆ°è¿è¡Œç»“æœï¼šPI = 3.20000000000000000000</p>
<p><strong>ç»¼ä¸Šï¼Œé›†ç¾¤æ­£å¸¸å¯åŠ¨</strong></p>
<blockquote>
<p>å…³é—­Hadoopé›†ç¾¤</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915085606053.png" class="" title="image-20200915085606053">





<h2 id="3-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„æ“ä½œ"><a href="#3-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„æ“ä½œ" class="headerlink" title="3. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„æ“ä½œ"></a>3. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„æ“ä½œ</h2><h3 id="1-åˆ©ç”¨Shellå‘½ä»¤ä¸HDFSè¿›è¡Œäº¤äº’"><a href="#1-åˆ©ç”¨Shellå‘½ä»¤ä¸HDFSè¿›è¡Œäº¤äº’" class="headerlink" title="1. åˆ©ç”¨Shellå‘½ä»¤ä¸HDFSè¿›è¡Œäº¤äº’"></a>1. åˆ©ç”¨Shellå‘½ä»¤ä¸HDFSè¿›è¡Œäº¤äº’</h3><pre class="line-numbers language-shell"><code class="language-shell">hadoop fs    //é€‚ç”¨äºä»»ä½•ä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”å¦‚æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå’ŒHDFSæ–‡ä»¶ç³»ç»Ÿ
hadoop dfa   //åªèƒ½é€‚ç”¨äºHDFSæ–‡ä»¶ç³»ç»Ÿ
hdfs dfs     //è·Ÿhadoop dfsçš„å‘½ä»¤ä½œç”¨ä¸€æ ·ï¼Œä¹Ÿåªèƒ½é€‚ç”¨äºHDFSæ–‡ä»¶ç³»ç»Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915091307833.png" class="" title="image-20200915091307833">

<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -help put<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915091423474.png" class="" title="image-20200915091423474">



<h4 id="1-ç›®å½•æ“ä½œ"><a href="#1-ç›®å½•æ“ä½œ" class="headerlink" title="(1) ç›®å½•æ“ä½œ"></a>(1) ç›®å½•æ“ä½œ</h4><blockquote>
<p>åœ¨HDFSä¸­ä¸ºparakç”¨æˆ·åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç›®å½•ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -mkdir -p /user/parak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æ˜¾ç¤ºHDFSä¸­/userç›®å½•ä¸‹çš„å†…å®¹ï¼š</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -ls /user<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915091936795.png" class="" title="image-20200915091936795">

<blockquote>
<p>åˆ›å»º/user/parak/inputç›®å½•</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -mkdir -p /user/parak/input<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>æŸ¥çœ‹/user/parak/inputç›®å½•æ˜¯å¦åˆ›å»ºæˆåŠŸ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -ls /user/parak<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915094202790.png" class="" title="image-20200915094202790">

<blockquote>
<p>åˆ›å»º/inputç›®å½•</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -mkdir -p /input<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>åˆ é™¤/inputç›®å½•</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell"> hadoop fs -rm -r /input<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>æŸ¥çœ‹/inputç›®å½•æ˜¯å¦åˆ é™¤æˆåŠŸ</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -ls /<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915094415033.png" class="" title="image-20200915094415033">



<h4 id="2-æ–‡ä»¶æ“ä½œ"><a href="#2-æ–‡ä»¶æ“ä½œ" class="headerlink" title="(2) æ–‡ä»¶æ“ä½œ"></a>(2) æ–‡ä»¶æ“ä½œ</h4><p>â€‹       åœ¨å®é™…åº”ç”¨ä¸­ï¼Œç»å¸¸éœ€è¦ä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå‘HDFSä¸­ä¸Šä¼ æ–‡ä»¶ï¼Œæˆ–è€…æŠŠHDFSä¸­çš„æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p>
<blockquote>
<p>é¦–å…ˆï¼Œä½¿ç”¨vimç¼–è¾‘å™¨ï¼Œåœ¨æœ¬åœ°Linuxæ–‡ä»¶ç³»ç»Ÿçš„â€œ/home/parak/â€ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–‡ä»¶myLocalFile.txtï¼Œé‡Œé¢è¾“å…¥ï¼š</p>
</blockquote>
<pre class="line-numbers language-text"><code class="language-text">Hadoop
MapReduce
Spark
Khighness<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>ç„¶åï¼ŒæŠŠæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿçš„â€œ/home/parak/myLocalFile.txtâ€ä¸Šä¼ åˆ°HDFSä¸­çš„å½“å‰ç”¨æˆ·ç›®å½•çš„inputç›®å½•ä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¼ åˆ°HDFSçš„â€œ/user/parak/input/â€ç›®å½•ä¸‹ï¼š</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -put /home/parak/myLocalFile.txt /user/parak/input<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶æ˜¯å¦æˆåŠŸä¸Šä¼ åˆ°HDFSä¸­ï¼š</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -ls /user/parak/input<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>æŸ¥çœ‹HDFSä¸­çš„myLocalFile.txtè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -cat /user/parak/input/myLocalFile.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915094905208.png" class="" title="image-20200915094905208">

<blockquote>
<p>æŠŠHDFSä¸­çš„myLocalFile.txtæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­çš„â€œ/home/parak/ä¸‹è½½/â€è¿™ä¸ªç›®å½•ä¸‹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -get /user/parak/input/myLocalFile.txt /home/parak/ä¸‹è½½<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>åœ¨æœ¬åœ°æŸ¥çœ‹ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶myLocalFile.txt</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">cd ä¸‹è½½
ll
cat myLocalFile.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915100241999.png" class="" title="image-20200915100241999">

<blockquote>
<p>æŠŠHDFSçš„â€œ/user/parak/input/myLocalFile.txtâ€æ–‡ä»¶ï¼Œæ‹·è´åˆ°HDFSçš„å¦å¤–ä¸€ä¸ªç›®å½•â€œ/inputâ€ä¸­</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hadoop fs -mkdir /input
hadoop fs -cp /user/parak/input/myLocalFile.txt /input<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915100148440.png" class="" title="image-20200915100148440">



<h3 id="2-åˆ©ç”¨Webç•Œé¢ç®¡ç†HDFS"><a href="#2-åˆ©ç”¨Webç•Œé¢ç®¡ç†HDFS" class="headerlink" title="2. åˆ©ç”¨Webç•Œé¢ç®¡ç†HDFS"></a>2. åˆ©ç”¨Webç•Œé¢ç®¡ç†HDFS</h3><blockquote>
<p>åœ¨æœ¬æœºChormeè¾“å…¥ <a target="_blank" rel="noopener" href="http://192.168.117.141:50070/">http://192.168.117.141:50070</a> , å³å¯çœ‹åˆ°HDFSçš„Webç®¡ç†ç•Œé¢</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915093904228.png" class="" title="image-20200915093904228">





<h2 id="4-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„ç¼–ç¨‹å®è·µ"><a href="#4-åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„ç¼–ç¨‹å®è·µ" class="headerlink" title="4. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„ç¼–ç¨‹å®è·µ"></a>4. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»ŸHDFSä¸Šçš„ç¼–ç¨‹å®è·µ</h2><h3 id="1-å®‰è£…Eclipse"><a href="#1-å®‰è£…Eclipse" class="headerlink" title="1. å®‰è£…Eclipse"></a>1. å®‰è£…Eclipse</h3><h4 id="1-å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…"><a href="#1-å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…" class="headerlink" title="(1) å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…"></a>(1) å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…</h4><blockquote>
<p>è¿›å…¥FireFoxæ‰“å¼€ä¸‹è½½: <a target="_blank" rel="noopener" href="http://www.eclipse.org/downloads/packages/release/neon/1a/eclipse-ide-java-ee-developers">eclipe</a></p>
</blockquote>
<img src="/posts/ec060e02/image-20200915190751901.png" class="" title="image-20200915190751901">

<blockquote>
<p>æˆ–è€…</p>
<p>ç™¾åº¦ç½‘ç›˜ä¸‹è½½</p>
<p>é“¾æ¥: <a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1P4vDgBEj_eOSakabM93rew">https://pan.baidu.com/s/1P4vDgBEj_eOSakabM93rew</a></p>
<p>å¯†ç : eujp</p>
</blockquote>
<h4 id="2-è§£å‹å®‰è£…åŒ…"><a href="#2-è§£å‹å®‰è£…åŒ…" class="headerlink" title="(2) è§£å‹å®‰è£…åŒ…"></a>(2) è§£å‹å®‰è£…åŒ…</h4><pre class="line-numbers language-shell"><code class="language-shell">tar xzvf eclipse-inst-linux64.tar.gz 
cd eclipse-installer/
ll<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915191250751.png" class="" title="image-20200915191250751">

<img src="/posts/ec060e02/image-20200915191446018.png" class="" title="image-20200915191446018">

<h4 id="3-å®‰è£…Eclipse-For-JavaEE"><a href="#3-å®‰è£…Eclipse-For-JavaEE" class="headerlink" title="(3) å®‰è£…Eclipse For JavaEE"></a>(3) å®‰è£…Eclipse For JavaEE</h4><pre class="line-numbers language-shell"><code class="language-shell">eclipse-inst.ini<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915191721107.png" class="" title="image-20200915191721107.png">

<img src="/posts/ec060e02/image-20200915191841247.png" class="" title="image-20200915191841247.png">

<img src="/posts/ec060e02/image-20200915192946961.png" class="" title="image-20200915192946961.png">



<h4 id="4-åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼"><a href="#4-åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼" class="headerlink" title="(4) åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼"></a>(4) åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼</h4><blockquote>
<p>1ã€åˆ‡æ¢rootèº«ä»½ï¼šsu root</p>
<p>2ã€è¿›å…¥usr/share/applicationsç›®å½•ï¼šcd /usr/share/applications</p>
<p>3ã€åˆ›å»ºeclipase.desktopæ–‡ä»¶ï¼štouch eclipase.desktop</p>
<p>4ã€è¾“å…¥ä»¥ä¸‹å†…å®¹åä¿å­˜ï¼švi eclipase.desktop</p>
<p>5ã€æœ€åå°†å¿«æ·æ–¹å¼å¤åˆ¶åˆ°æ¡Œé¢ï¼Œå¹¶æ·»åŠ ä¿¡ä»»å³å¯</p>
</blockquote>
<pre class="line-numbers language-desktop"><code class="language-desktop">[Desktop Entry]
Name=Eclipse
Exec=/home/parak/eclipse/eclipse-j2e/eclipse/eclipse
Type=Application
Icon=/home/parak/eclipse/eclipse-j2e/eclipse/icon.xpm
Terminal=false<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915195019210.png" class="" title="image-20200915195019210">



<h3 id="2-åˆ›å»ºeclipseå·¥ç¨‹"><a href="#2-åˆ›å»ºeclipseå·¥ç¨‹" class="headerlink" title="2. åˆ›å»ºeclipseå·¥ç¨‹"></a>2. åˆ›å»ºeclipseå·¥ç¨‹</h3><blockquote>
<p>åŒå‡»eclipseæ¡Œé¢å¿«æ·æ–¹å¼</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915195625107.png" class="" title="image-20200915195625107">

<blockquote>
<p>è¿›å…¥eclipseIDE</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915195720416.png" class="" title="image-20200915195720416">

<blockquote>
<p>ç‚¹å‡»ï¼šFile â€”&gt; Project â€”&gt; Java Project</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915200231455.png" class="" title="image-20200915200231455">

<blockquote>
<p>è®¾ç½®JRE</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915200448059.png" class="" title="image-20200915200448059">

<blockquote>
<p>æ·»åŠ JAR</p>
</blockquote>
<ul>
<li><strong>/home/parak/hadoop/hadoop-2.9.2/share/hadoop/common/</strong>:  <strong>hadoop-common-2.9.2.jar</strong>å’Œ<strong>hadoop-nfs-2.9.2.jar</strong></li>
<li><strong>/home/parak/hadoop/hadoop-2.9.2/share/hadoop/common/</strong>:  <strong>lib</strong>ç›®å½•ä¸‹çš„æ‰€æœ‰jaråŒ…</li>
<li><strong>/home/parak/hadoop/hadoop-2.9.2/share/hadoop/hdfs/</strong>:  <strong>hadoop-hdfs-2.9.2.jar</strong>å’Œ<strong>hadoop-hdfs-nfs-2.9.2.jar</strong></li>
<li><strong>/home/parak/hadoop/hadoop-2.9.2/share/hadoop/hdfs/</strong>:  <strong>lib</strong>ç›®å½•ä¸‹çš„æ‰€æœ‰jaråŒ…</li>
</ul>
<img src="/posts/ec060e02/image-20200915202106984.png" class="" title="image-20200915202106984">

<blockquote>
<p>ç‚¹å‡»Finishï¼Œç‚¹å‡»Open Perspectiveï¼Œå¹¶ä¸”å‹¾é€‰Remember my decision</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915202239806.png" class="" title="image-20200915202239806">

<img src="/posts/ec060e02/image-20200915202452808.png" class="" title="image-20200915202452808">



<h3 id="3-ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ£€æµ‹HDFSä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶"><a href="#3-ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ£€æµ‹HDFSä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="3. ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ£€æµ‹HDFSä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶"></a>3. ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºæ£€æµ‹HDFSä¸­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶</h3><h4 id="1-ç¼–å†™Javaç¨‹åº"><a href="#1-ç¼–å†™Javaç¨‹åº" class="headerlink" title="(1) ç¼–å†™Javaç¨‹åº"></a>(1) ç¼–å†™Javaç¨‹åº</h4><blockquote>
<p>å³å‡»HDFSExample â€”&gt; New â€”&gt; Class</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915203644447.png" class="" title="image-20200915203644447">

<blockquote>
<p>Name = HDFSFileIfExistï¼Œç„¶åFinish</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915203811679.png" class="" title="image-20200915203811679">

<blockquote>
<p>ç¼–å†™ä»£ç </p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>FileSystem<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>Path<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * @author parak
 * @date   2020-9-15 
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HDFSFileIfExist</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            String fileName <span class="token operator">=</span> <span class="token string">"/user/parak/input/myLocalFile.txt"</span><span class="token punctuation">;</span>
            Configuration conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.defaultFS"</span><span class="token punctuation">,</span> <span class="token string">"hdfs://master:9000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.hdfs.impl"</span><span class="token punctuation">,</span> <span class="token string">"org.apache.hadoop.hdfs.DistributedFileSystem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            FileSystem fs <span class="token operator">=</span> FileSystem<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">else</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2-è¿è¡Œç¨‹åº"><a href="#2-è¿è¡Œç¨‹åº" class="headerlink" title="(2) è¿è¡Œç¨‹åº"></a>(2) è¿è¡Œç¨‹åº</h4><blockquote>
<p>å¯åŠ¨Hadoopé›†ç¾¤</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915204824967.png" class="" title="image-20200915204824967">

<blockquote>
<p>è¿è¡Œç¨‹åº</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915205051079.png" class="" title="image-20200915205051079">

<blockquote>
<p>è¿è¡Œç»“æœ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915205218013.png" class="" title="image-20200915205218013">

<h4 id="3-éƒ¨ç½²åˆ°Hadoopå¹³å°ä¸Šè¿è¡Œ"><a href="#3-éƒ¨ç½²åˆ°Hadoopå¹³å°ä¸Šè¿è¡Œ" class="headerlink" title="(3) éƒ¨ç½²åˆ°Hadoopå¹³å°ä¸Šè¿è¡Œ"></a>(3) éƒ¨ç½²åˆ°Hadoopå¹³å°ä¸Šè¿è¡Œ</h4><blockquote>
<p>åœ¨hadoopå®‰è£…ç›®å½•ä¸‹æ–°å»ºmyappç›®å½•ï¼Œå­˜æ”¾Hadoopåº”ç”¨ç¨‹åº</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">mkdir ~/hadoop/hadoop-2.9.2/myapp<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915205811634.png" class="" title="image-20200915205811634">

<blockquote>
<p>å³å‡»HDFSExample â€”&gt; Export â€”&gt; Java â€”&gt; Runnable JAR file â€”&gt; Next</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915210022617.png" class="" title="image-20200915210022617">

<blockquote>
<p>Lauch configuration: HDFSFileIfExist -HDFSExsmple</p>
<p>Export destination: /home/parak/hadoop/hadoop-2.9.2/myapp/HDFSExample.jar</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915210640358.png" class="" title="image-20200915210640358">

<blockquote>
<p>å‡ºç°è­¦å‘Šï¼Œé€‰æ‹©OK</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915210911473.png" class="" title="image-20200915210911473">

<img src="/posts/ec060e02/image-20200915211215820.png" class="" title="image-20200915211215820">

<blockquote>
<p>æŸ¥çœ‹myappä¸­ç”Ÿæˆçš„HDFSExample.jaræ–‡ä»¶</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915211618901.png" class="" title="image-20200915211618901">

<blockquote>
<p>è¿è¡Œç¨‹åº</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">java -jar ~/hadoop/hadoop-2.9.2/myapp/HDFSExample.jar <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200915211802010.png" class="" title="image-20200915211802010">



<h3 id="4-ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºè¯»-å†™HDFSæ–‡ä»¶"><a href="#4-ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºè¯»-å†™HDFSæ–‡ä»¶" class="headerlink" title="4. ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºè¯»/å†™HDFSæ–‡ä»¶"></a>4. ç¼–å†™ä¸€ä¸ªJavaåº”ç”¨ç¨‹åºè¯»/å†™HDFSæ–‡ä»¶</h3><h4 id="1-è¯»å–HDFSæ–‡ä»¶ç¨‹åº"><a href="#1-è¯»å–HDFSæ–‡ä»¶ç¨‹åº" class="headerlink" title="(1) è¯»å–HDFSæ–‡ä»¶ç¨‹åº"></a>(1) è¯»å–HDFSæ–‡ä»¶ç¨‹åº</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>Path<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>BufferedReader<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>FSDataInputStream<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>FileSystem<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * @author parak
 * @date 2020-9-15
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HDFSReadFile</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            Configuration conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.defaultFS"</span><span class="token punctuation">,</span> <span class="token string">"hdfs://master:9000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.hdfs.impl"</span><span class="token punctuation">,</span>
                    <span class="token string">"org.apache.hadoop.hdfs.DistributedFileSystem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            FileSystem fs <span class="token operator">=</span> FileSystem<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Path file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">"/user/parak/input/myLocalFile.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            FSDataInputStream getIt <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
            BufferedReader d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>getIt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            String content <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token punctuation">(</span>content <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
            d<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å…³é—­æ–‡ä»¶</span>
            fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å…³é—­hdfs</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>è¿è¡Œ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915213406899.png" class="" title="image-20200915213406899">

<h4 id="2-å†™HDFSæ–‡ä»¶ç¨‹åº"><a href="#2-å†™HDFSæ–‡ä»¶ç¨‹åº" class="headerlink" title="(2) å†™HDFSæ–‡ä»¶ç¨‹åº"></a>(2) å†™HDFSæ–‡ä»¶ç¨‹åº</h4><pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>FileSystem<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>FSDataOutputStream<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>Path<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
* @author parak
* @date 2020-9-15
*/</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HDFSWriteFile</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
       <span class="token keyword">try</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
           Configuration conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.defaultFS"</span><span class="token punctuation">,</span> <span class="token string">"hdfs://master:9000"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           conf<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">"fs.hdfs.impl"</span><span class="token punctuation">,</span>
                   <span class="token string">"org.apache.hadoop.hdfs.DistributedFileSystem"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           FileSystem fs <span class="token operator">=</span> FileSystem<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>conf<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token string">"Hello, Khighness"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¦å†™å…¥çš„å†…å®¹</span>
           String filename <span class="token operator">=</span> <span class="token string">"/user/parak/test.txt"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// è¦å†™å…¥çš„æ–‡ä»¶å</span>
           FSDataOutputStream os <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> buff<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
           System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Create:"</span> <span class="token operator">+</span> filename<span class="token punctuation">)</span><span class="token punctuation">;</span>
           os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           fs<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
           e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
   <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>è¿è¡Œ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200915213012019.png" class="" title="image-20200915213012019">



<h2 id="5-Eclipseä¸Šçš„HDFSæ“ä½œ"><a href="#5-Eclipseä¸Šçš„HDFSæ“ä½œ" class="headerlink" title="5. Eclipseä¸Šçš„HDFSæ“ä½œ"></a>5. Eclipseä¸Šçš„HDFSæ“ä½œ</h2><h3 id="1-å®‰è£…Hadoop-Eclipse-Plugin"><a href="#1-å®‰è£…Hadoop-Eclipse-Plugin" class="headerlink" title="1. å®‰è£…Hadoop-Eclipse-Plugin"></a>1. å®‰è£…Hadoop-Eclipse-Plugin</h3><p>(1) ä¸‹è½½ç›¸å…³æ’ä»¶ï¼š<a target="_blank" rel="noopener" href="https://github.com/winghc/hadoop2x-eclipse-plugin">hadoop-eclipse-plugin</a></p>
<img src="/posts/ec060e02/image-20200922203150692.png" class="" title="image-20200922203150692">

<p>æˆ‘æ˜¯vpnä¸‹è½½ä¸‹æ¥çš„ï¼Œåˆ†äº«ä¸€ä¸‹ï¼š</p>
<blockquote>
<p>å®Œæ•´åŒ…</p>
<p>ç½‘ç›˜é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1Q72HyCSUnh-Q0JRQK03Jjg">https://pan.baidu.com/s/1Q72HyCSUnh-Q0JRQK03Jjg</a></p>
<p>æå–ç ï¼škkkk</p>
<p>æ’ä»¶åŒ…</p>
<p>ç½‘ç›˜é“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1dfBm7JB4ZXTR3bwF7PSaKA">https://pan.baidu.com/s/1dfBm7JB4ZXTR3bwF7PSaKA</a></p>
<p>æå–ç ï¼škkkk</p>
</blockquote>
<img src="/posts/ec060e02/image-20200922222447098.png" class="" title="image-20200922222447098">



<p>(2) ä¸‹è½½åå°†releaseä¸­çš„<code>hadoop-eclipse-plugin-2.6.0.jar</code>å¤åˆ¶åˆ° Eclipse å®‰è£…ç›®å½•çš„ plugins æ–‡ä»¶å¤¹ä¸­</p>
<img src="/posts/ec060e02/image-20200922223813270.png" class="" title="image-20200922223813270">

<p>(3) è¿è¡Œ <code>eclipse-clean</code> é‡å¯ Eclipse</p>
<h3 id="2-é…ç½®Hadoop-Eclipse-Plugin"><a href="#2-é…ç½®Hadoop-Eclipse-Plugin" class="headerlink" title="2. é…ç½®Hadoop-Eclipse-Plugin"></a>2. é…ç½®Hadoop-Eclipse-Plugin</h3><p>é…ç½®å‰å¼€å¯Hadoop</p>
<img src="/posts/ec060e02/image-20200928131439434.png" class="" title="image-20200928131439434">

<p>(1) åˆ‡æ¢åˆ°â€œMap/Reduceâ€å¼€å‘è§†å›¾</p>
<img src="/posts/ec060e02/image-20200928131546990.png" class="" title="image-20200928131546990">



<p>(2) å»ºç«‹ä¸Hadoopé›†ç¾¤çš„è¿æ¥</p>
<img src="/posts/ec060e02/image-20200928131720837.png" class="" title="image-20200928131720837">

<p>(3) å¡«å†™Hadoopè¿æ¥é…ç½®</p>
<img src="/posts/ec060e02/image-20200928131907971.png" class="" title="image-20200928131907971">



<h3 id="3-åœ¨Eclipseä¸­æ“ä½œHDFSä¸­çš„æ–‡ä»¶"><a href="#3-åœ¨Eclipseä¸­æ“ä½œHDFSä¸­çš„æ–‡ä»¶" class="headerlink" title="3. åœ¨Eclipseä¸­æ“ä½œHDFSä¸­çš„æ–‡ä»¶"></a>3. åœ¨Eclipseä¸­æ“ä½œHDFSä¸­çš„æ–‡ä»¶</h3><p>ç‚¹å‡»å·¦ä¾§DFS Locationså³å¯æŸ¥çœ‹HDFSçš„æ–‡ä»¶åˆ—è¡¨</p>
<img src="/posts/ec060e02/image-20200928132219334.png" class="" title="image-20200928132219334">



<h2 id="6-åœ¨Eclipseä¸­è¿è¡Œâ€Wold-Countâ€MapReduceç¨‹åº"><a href="#6-åœ¨Eclipseä¸­è¿è¡Œâ€Wold-Countâ€MapReduceç¨‹åº" class="headerlink" title="6. åœ¨Eclipseä¸­è¿è¡Œâ€Wold Countâ€MapReduceç¨‹åº"></a>6. åœ¨Eclipseä¸­è¿è¡Œâ€Wold Countâ€MapReduceç¨‹åº</h2><h3 id="1-åœ¨Eclipseä¸­åˆ›å»ºâ€WordCountâ€MapReduceé¡¹ç›®"><a href="#1-åœ¨Eclipseä¸­åˆ›å»ºâ€WordCountâ€MapReduceé¡¹ç›®" class="headerlink" title="1. åœ¨Eclipseä¸­åˆ›å»ºâ€WordCountâ€MapReduceé¡¹ç›®"></a>1. åœ¨Eclipseä¸­åˆ›å»ºâ€WordCountâ€MapReduceé¡¹ç›®</h3><blockquote>
<p>é€‰æ‹©File -&gt; New -&gt; Project -&gt; Map/Reduce Project</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928133415156.png" class="" title="image-20200928133415156">

<blockquote>
<p>é¡¹ç›®åç§°=MyWordCountï¼Œç„¶åConfigure Hadoop install directory -&gt; Finish</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928133508525.png" class="" title="image-20200928133508525">

<blockquote>
<p>æ–°å»ºJavaæ–‡ä»¶ï¼Œname = WordCountTest</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928134118935.png" class="" title="image-20200928134118935">

<blockquote>
<p>ä»£ç å¦‚ä¸‹</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Iterator<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>StringTokenizer<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>Path<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IntWritable<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Job<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Mapper<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Reducer<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>input<span class="token punctuation">.</span>FileInputFormat<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>output<span class="token punctuation">.</span>FileOutputFormat<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>util<span class="token punctuation">.</span>GenericOptionsParser<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * @author parak
 * @date   2020-9-28
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WordCountTest</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">WordCountTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Configuration conf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> otherArgs <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">GenericOptionsParser</span><span class="token punctuation">(</span>conf<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRemainingArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>otherArgs<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Usage: wordcount &lt;in> [&lt;in>...] &lt;out>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

        Job job <span class="token operator">=</span> Job<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span>conf<span class="token punctuation">,</span> <span class="token string">"word count test"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setJarByClass</span><span class="token punctuation">(</span>WordCountTest<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setMapperClass</span><span class="token punctuation">(</span>WordCountTest<span class="token punctuation">.</span>TokenizerMapper<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setCombinerClass</span><span class="token punctuation">(</span>WordCountTest<span class="token punctuation">.</span>IntSumReducer<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setReducerClass</span><span class="token punctuation">(</span>WordCountTest<span class="token punctuation">.</span>IntSumReducer<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setOutputKeyClass</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setOutputValueClass</span><span class="token punctuation">(</span>IntWritable<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> otherArgs<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            FileInputFormat<span class="token punctuation">.</span><span class="token function">addInputPath</span><span class="token punctuation">(</span>job<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>otherArgs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        FileOutputFormat<span class="token punctuation">.</span><span class="token function">setOutputPath</span><span class="token punctuation">(</span>job<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span>otherArgs<span class="token punctuation">[</span>otherArgs<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>job<span class="token punctuation">.</span><span class="token function">waitForCompletion</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token number">0</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IntSumReducer</span> <span class="token keyword">extends</span> <span class="token class-name">Reducer</span><span class="token operator">&lt;</span>Text<span class="token punctuation">,</span> IntWritable<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> IntWritable result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">IntSumReducer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reduce</span><span class="token punctuation">(</span>Text key<span class="token punctuation">,</span> Iterable<span class="token operator">&lt;</span>IntWritable<span class="token operator">></span> values<span class="token punctuation">,</span> Reducer<span class="token operator">&lt;</span>Text<span class="token punctuation">,</span> IntWritable<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span><span class="token punctuation">.</span>Context context<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> InterruptedException <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

            IntWritable val<span class="token punctuation">;</span>
            <span class="token keyword">for</span><span class="token punctuation">(</span>Iterator itr <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> sum <span class="token operator">+=</span> val<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                val <span class="token operator">=</span> <span class="token punctuation">(</span>IntWritable<span class="token punctuation">)</span>itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

            <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">TokenizerMapper</span> <span class="token keyword">extends</span> <span class="token class-name">Mapper</span><span class="token operator">&lt;</span>Object<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> IntWritable one <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> Text word <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token function">TokenizerMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">map</span><span class="token punctuation">(</span>Object key<span class="token punctuation">,</span> Text value<span class="token punctuation">,</span> Mapper<span class="token operator">&lt;</span>Object<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span><span class="token punctuation">.</span>Context context<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> InterruptedException <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            StringTokenizer itr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">while</span><span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasMoreTokens</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>word<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                context<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>word<span class="token punctuation">,</span> one<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="2-æ·»åŠ log4j-propertiesé…ç½®æ–‡ä»¶åˆ°srcç›®å½•ä¸‹"><a href="#2-æ·»åŠ log4j-propertiesé…ç½®æ–‡ä»¶åˆ°srcç›®å½•ä¸‹" class="headerlink" title="2. æ·»åŠ log4j.propertiesé…ç½®æ–‡ä»¶åˆ°srcç›®å½•ä¸‹"></a>2. æ·»åŠ log4j.propertiesé…ç½®æ–‡ä»¶åˆ°srcç›®å½•ä¸‹</h3><blockquote>
<p>æ–°å»ºæ–‡ä»¶</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928205438905.png" class="" title="image-20200928205438905">

<blockquote>
<p>å†…å®¹å¦‚ä¸‹</p>
</blockquote>
<pre class="line-numbers language-properties"><code class="language-properties"><span class="token attr-name">log4j.rootLogger</span> <span class="token punctuation">=</span> <span class="token attr-value">INFO,KAG,CONSOLE</span>

<span class="token attr-name">log4j.appender.KAG.Threshold</span><span class="token punctuation">=</span><span class="token attr-value">INFO</span>
<span class="token attr-name">log4j.appender.KAG.encoding</span><span class="token punctuation">=</span><span class="token attr-value">UTF-8</span>

<span class="token attr-name">log4j.appender.KAG</span> <span class="token punctuation">=</span> <span class="token attr-value">org.apache.log4j.DailyRollingFileAppender</span>
<span class="token attr-name">log4j.appender.KAG.File</span><span class="token punctuation">=</span><span class="token attr-value">log/sHadoop.log</span>
<span class="token attr-name">log4j.appender.KAG.ImmediateFlush</span><span class="token punctuation">=</span><span class="token attr-value">true</span>
<span class="token attr-name">log4j.appender.KAG.DatePattern</span><span class="token punctuation">=</span><span class="token attr-value">'_'yyyy-MM-dd</span>
<span class="token attr-name">log4j.appender.KAG.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token attr-name">log4j.appender.KAG.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">%-d&amp;#123;yyyy-MM-dd HH:mm:ss&amp;#125; KAG %-5p [%c] - %m%n</span>

<span class="token attr-name">log4j.appender.CONSOLE</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token attr-name">log4j.appender.Threshold</span><span class="token punctuation">=</span><span class="token attr-value">INFO</span>

<span class="token attr-name">log4j.appender.CONSOLE.Target</span><span class="token punctuation">=</span><span class="token attr-value">System.out</span>
<span class="token attr-name">log4j.appender.CONSOLE.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span>
<span class="token attr-name">log4j.appender.CONSOLE.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">%-d&amp;#123;yyyy-MM-dd HH:mm:ss&amp;#125; KAG %-5p [%c] - %m%n</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3-é€šè¿‡Eclipseè¿è¡Œâ€œMyWordCountâ€-MapReduceé¡¹ç›®"><a href="#3-é€šè¿‡Eclipseè¿è¡Œâ€œMyWordCountâ€-MapReduceé¡¹ç›®" class="headerlink" title="3. é€šè¿‡Eclipseè¿è¡Œâ€œMyWordCountâ€ MapReduceé¡¹ç›®"></a>3. é€šè¿‡Eclipseè¿è¡Œâ€œMyWordCountâ€ MapReduceé¡¹ç›®</h3><blockquote>
<p>æ›´æ”¹è¿è¡Œé…ç½®</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928183606296.png" class="" title="image-20200928183606296"> 

<blockquote>
<p>è¿è¡Œç»“æœ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928184930876.png" class="" title="image-20200928184930876">

<img src="/posts/ec060e02/image-20200928184947160.png" class="" title="image-20200928184947160">

<blockquote>
<p>æŸ¥çœ‹/user/parak/outputç›®å½•ï¼Œå’Œç›®å½•ä¸‹çš„æ–‡ä»¶</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928185257730.png" class="" title="image-20200928185257730">

<blockquote>
<p>é‡å¯Eclipseï¼Œåœ¨Eclipseä¸­æŸ¥çœ‹HDFSæ–‡ä»¶ç³»ç»Ÿï¼Œ/user/parak/output</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928185548345.png" class="" title="image-20200928185548345">



<h3 id="4-åœ¨Hadoopå¹³å°ä¸Šéƒ¨ç½²WordCountç¨‹åº"><a href="#4-åœ¨Hadoopå¹³å°ä¸Šéƒ¨ç½²WordCountç¨‹åº" class="headerlink" title="4. åœ¨Hadoopå¹³å°ä¸Šéƒ¨ç½²WordCountç¨‹åº"></a>4. åœ¨Hadoopå¹³å°ä¸Šéƒ¨ç½²WordCountç¨‹åº</h3><blockquote>
<p>å³é”® WordCountTest â€”&gt; Export</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928205719777.png" class="" title="image-20200928205719777">

<blockquote>
<p>é€‰æ‹© Java â€”&gt; Runnable JAR File â€”&gt; Next</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928205756522.png" class="" title="image-20200928205756522">

<blockquote>
<p>å¡«å…¥å†…å®¹ï¼š</p>
<p>Lauch configuration: WordCountTest - MyWordCount</p>
<p>Export destination: /home/parak/hadoop/hadoop-2.9.2/myapp/WordCount.jar</p>
<p>ç„¶åFinishå³å¯</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928210235072.png" class="" title="image-20200928210235072">

<blockquote>
<p>è¿è¡Œç¨‹åº</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java">java <span class="token operator">-</span>jar <span class="token operator">/</span>home<span class="token operator">/</span>parak<span class="token operator">/</span>hadoop<span class="token operator">/</span>hadoop<span class="token operator">-</span><span class="token number">2.9</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token operator">/</span>myapp<span class="token operator">/</span>WordCount<span class="token punctuation">.</span>jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="7-ç»Ÿè®¡æŸç”µå•†ç½‘ç«™ä¹°å®¶æ”¶è—å•†å“æ•°é‡"><a href="#7-ç»Ÿè®¡æŸç”µå•†ç½‘ç«™ä¹°å®¶æ”¶è—å•†å“æ•°é‡" class="headerlink" title="7. ç»Ÿè®¡æŸç”µå•†ç½‘ç«™ä¹°å®¶æ”¶è—å•†å“æ•°é‡"></a>7. ç»Ÿè®¡æŸç”µå•†ç½‘ç«™ä¹°å®¶æ”¶è—å•†å“æ•°é‡</h2><p><strong>è¦æ±‚</strong></p>
<p>ç°æœ‰æŸç”µå•†ç½‘ç«™ç”¨æˆ·å¯¹å•†å“çš„æ”¶è—æ•°æ®ï¼Œè®°å½•äº†ç”¨æˆ·æ”¶è—çš„å•†å“idä»¥åŠæ”¶è—æ—¥æœŸï¼Œåä¸ºbuyer_favorite1ã€‚buyer_favorite1åŒ…å«ï¼šä¹°å®¶idï¼Œå•†å“idï¼Œæ”¶è—æ—¥æœŸè¿™ä¸‰ä¸ªå­—æ®µï¼Œæ•°æ®ä»¥â€œ\tâ€åˆ†å‰²ï¼Œæ ·æœ¬æ•°æ®åŠæ ¼å¼å¦‚ä¸‹ï¼š</p>
<ol>
<li><p>ä¹°å®¶id  å•†å“id  æ”¶è—æ—¥æœŸ </p>
</li>
<li><p>10181  1000481  2010-04-04 16:54:31 </p>
</li>
<li><p>20001  1001597  2010-04-07 15:07:52 </p>
</li>
<li><p>20001  1001560  2010-04-07 15:08:27 </p>
</li>
<li><p>20042  1001368  2010-04-08 08:20:30 </p>
</li>
<li><p>20067  1002061  2010-04-08 16:45:33 </p>
</li>
<li><p>20056  1003289  2010-04-12 10:50:55 </p>
</li>
<li><p>20056  1003290  2010-04-12 11:57:35 </p>
</li>
<li><p>20056  1003292  2010-04-12 12:05:29 </p>
</li>
<li><p>20054  1002420  2010-04-14 15:24:12 </p>
</li>
<li><p>20055  1001679  2010-04-14 19:46:04 </p>
</li>
<li><p>20054  1010675  2010-04-14 15:23:53 </p>
</li>
<li><p>20054  1002429  2010-04-14 17:52:45 </p>
</li>
<li><p>20076  1002427  2010-04-14 19:35:39 </p>
</li>
<li><p>20054  1003326  2010-04-20 12:54:44 </p>
</li>
<li><p>20056  1002420  2010-04-15 11:24:49 </p>
</li>
<li><p>20064  1002422  2010-04-15 11:35:54 </p>
</li>
<li><p>20056  1003066  2010-04-15 11:43:01 </p>
</li>
<li><p>20056  1003055  2010-04-15 11:43:06 </p>
</li>
<li><p>20056  1010183  2010-04-15 11:45:24 </p>
</li>
<li><p>20056  1002422  2010-04-15 11:45:49 </p>
</li>
<li><p>20056  1003100  2010-04-15 11:45:54 </p>
</li>
<li><p>20056  1003094  2010-04-15 11:45:57 </p>
</li>
<li><p>20056  1003064  2010-04-15 11:46:04 </p>
</li>
<li><p>20056  1010178  2010-04-15 16:15:20 </p>
</li>
<li><p>20076  1003101  2010-04-15 16:37:27 </p>
</li>
<li><p>20076  1003103  2010-04-15 16:37:05 </p>
</li>
<li><p>20076  1003100  2010-04-15 16:37:18 </p>
</li>
<li><p>20076  1003066  2010-04-15 16:37:31 </p>
</li>
<li><p>20054  1003103  2010-04-15 16:40:14 </p>
</li>
<li><p>20054  1003100  2010-04-15 16:40:16 </p>
</li>
</ol>
<p>è¦æ±‚ç¼–å†™MapReduceç¨‹åºï¼Œç»Ÿè®¡æ¯ä¸ªä¹°å®¶æ”¶è—å•†å“æ•°é‡ã€‚</p>
<h3 id="1-åœ¨æ–‡æ¡£ä¸‹æ–°å»ºæ–‡ä»¶buyer-favourite9"><a href="#1-åœ¨æ–‡æ¡£ä¸‹æ–°å»ºæ–‡ä»¶buyer-favourite9" class="headerlink" title="1. åœ¨æ–‡æ¡£ä¸‹æ–°å»ºæ–‡ä»¶buyer_favourite9"></a>1. åœ¨æ–‡æ¡£ä¸‹æ–°å»ºæ–‡ä»¶buyer_favourite9</h3><blockquote>
<p>å†™å…¥æ•°æ®</p>
</blockquote>
<pre><code>10181   1000481   2010-04-04æ·»åŠ åˆ°æ—¥å† 16:54:31
20001   1001597   2010-04-07 15:07:52
20001   1001560   2010-04-07 15:08:27
20042   1001368   2010-04-08 08:20:30
20067   1002061   2010-04-08 16:45:33
20056   1003289   2010-04-12 10:50:55
20056   1003290   2010-04-12 11:57:35
20056   1003292   2010-04-12 12:05:29
20054   1002420   2010-04-14 15:24:12
20055   1001679   2010-04-14 19:46:04
20054   1010675   2010-04-14 15:23:53
20054   1002429   2010-04-14 17:52:45
20076   1002427   2010-04-14 19:35:39
20054   1003326   2010-04-20 12:54:44
20056   1002420   2010-04-15 11:24:49
20064   1002422   2010-04-15 11:35:54
20056   1003066   2010-04-15 11:43:01
20056   1003055   2010-04-15 11:43:06
20056   1010183   2010-04-15 11:45:24
20056   1002422   2010-04-15 11:45:49
20056   1003100   2010-04-15 11:45:54
20056   1003094   2010-04-15 11:45:57
20056   1003064   2010-04-15 11:46:04
20056   1010178   2010-04-15 16:15:20
20076   1003101   2010-04-15 16:37:27
20076   1003103   2010-04-15 16:37:05
20076   1003100   2010-04-15 16:37:18
20076   1003066   2010-04-15 16:37:31
20054   1003103   2010-04-15 16:40:14
20054   1003100   2010-04-15 16:40:16 </code></pre>
<h3 id="2-å°†buyer-favourite9ä¸Šä¼ åˆ°HDFSæ–‡ä»¶ç³»ç»Ÿ"><a href="#2-å°†buyer-favourite9ä¸Šä¼ åˆ°HDFSæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="2. å°†buyer_favourite9ä¸Šä¼ åˆ°HDFSæ–‡ä»¶ç³»ç»Ÿ"></a>2. å°†buyer_favourite9ä¸Šä¼ åˆ°HDFSæ–‡ä»¶ç³»ç»Ÿ</h3><blockquote>
<p>å³é”®input â€”&gt; Upload files to DFS</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928222920023.png" class="" title="image-20200928222920023">

<blockquote>
<p>é€‰æ‹©buyer_favourite1åç¡®å®š</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928225427432.png" class="" title="image-20200928225427432">



<h3 id="3-æ–°å»ºjavaæ–‡ä»¶ProductNumber"><a href="#3-æ–°å»ºjavaæ–‡ä»¶ProductNumber" class="headerlink" title="3. æ–°å»ºjavaæ–‡ä»¶ProductNumber"></a>3. æ–°å»ºjavaæ–‡ä»¶ProductNumber</h3><blockquote>
<p>ä»£ç å¦‚ä¸‹</p>
</blockquote>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>kag<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>  
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>StringTokenizer<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span>Logger<span class="token punctuation">;</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>fs<span class="token punctuation">.</span>Path<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IntWritable<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Text<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Job<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Mapper<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>Reducer<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>input<span class="token punctuation">.</span>FileInputFormat<span class="token punctuation">;</span>  
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>hadoop<span class="token punctuation">.</span>mapreduce<span class="token punctuation">.</span>lib<span class="token punctuation">.</span>output<span class="token punctuation">.</span>FileOutputFormat<span class="token punctuation">;</span> 

<span class="token comment" spellcheck="true">/**
 * @author parak
 * @date 2020-9-28
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductNumber</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> ClassNotFoundException<span class="token punctuation">,</span> InterruptedException <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Job job <span class="token operator">=</span> Job<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setJobName</span><span class="token punctuation">(</span><span class="token string">"ProductNumber"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setJarByClass</span><span class="token punctuation">(</span>ProductNumber<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        job<span class="token punctuation">.</span><span class="token function">setMapperClass</span><span class="token punctuation">(</span>MapperHandler<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        job<span class="token punctuation">.</span><span class="token function">setReducerClass</span><span class="token punctuation">(</span>ReducerHandler<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        job<span class="token punctuation">.</span><span class="token function">setOutputKeyClass</span><span class="token punctuation">(</span>Text<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        job<span class="token punctuation">.</span><span class="token function">setOutputValueClass</span><span class="token punctuation">(</span>IntWritable<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        Path inputPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">"hdfs://master:9000/user/parak/input/buyer_favourite1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Path outputPath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">"hdfs://master:9000/user/parak/output/buyer_favourite1_analysis_result"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        FileInputFormat<span class="token punctuation">.</span><span class="token function">addInputPath</span><span class="token punctuation">(</span>job<span class="token punctuation">,</span> inputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        FileOutputFormat<span class="token punctuation">.</span><span class="token function">setOutputPath</span><span class="token punctuation">(</span>job<span class="token punctuation">,</span> outputPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> job<span class="token punctuation">.</span><span class="token function">waitForCompletion</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Logger log <span class="token operator">=</span> Logger<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span>ProductNumber<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Falg = "</span> <span class="token operator">+</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>flag <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MapperHandler</span> <span class="token keyword">extends</span> <span class="token class-name">Mapper</span><span class="token operator">&lt;</span>Object<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> IntWritable intWritable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">static</span> Text word <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">map</span><span class="token punctuation">(</span>Object key<span class="token punctuation">,</span> Text value<span class="token punctuation">,</span> Context context<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> InterruptedException <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            StringTokenizer tokenizer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            word<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>tokenizer<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>word<span class="token punctuation">,</span> intWritable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">ReducerHandler</span> <span class="token keyword">extends</span> <span class="token class-name">Reducer</span><span class="token operator">&lt;</span>Text<span class="token punctuation">,</span> IntWritable<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> IntWritable<span class="token operator">></span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> IntWritable intWritable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntWritable</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">reduce</span><span class="token punctuation">(</span>Text key<span class="token punctuation">,</span> Iterable<span class="token operator">&lt;</span>IntWritable<span class="token operator">></span> values<span class="token punctuation">,</span> Context context<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> InterruptedException <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span>IntWritable value <span class="token operator">:</span> values<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
                sum <span class="token operator">+=</span> value<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
            intWritable<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
            context<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> intWritable<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>

<span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>è¿è¡Œç»“æœ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928223752502.png" class="" title="image-20200928223752502">

<blockquote>
<p>è¿è¡Œåçš„HDFSæ–‡ä»¶ç³»ç»Ÿ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928225133967.png" class="" title="image-20200928225133967">



<blockquote>
<p>part-r-00000æ–‡ä»¶å†…å®¹å³ä¸ºç»Ÿè®¡ç»“æœ</p>
</blockquote>
<img src="/posts/ec060e02/image-20200928225154667.png" class="" title="image-20200928225154667">





<h2 id="8-å®‰è£…éƒ¨ç½²HBase"><a href="#8-å®‰è£…éƒ¨ç½²HBase" class="headerlink" title="8. å®‰è£…éƒ¨ç½²HBase"></a>8. å®‰è£…éƒ¨ç½²HBase</h2><p>HBaseä¸Hadoopç‰ˆæœ¬æ”¯æŒå…³ç³»</p>
<img src="/posts/ec060e02/image-20201002211137852.png" class="" title="image-20201002211137852">





<h3 id="1-ä¸‹è½½å®‰è£…HBase-1-6-0"><a href="#1-ä¸‹è½½å®‰è£…HBase-1-6-0" class="headerlink" title="1. ä¸‹è½½å®‰è£…HBase-1.6.0"></a>1. ä¸‹è½½å®‰è£…HBase-1.6.0</h3><blockquote>
<p>ä½¿ç”¨é•œåƒï¼š<a target="_blank" rel="noopener" href="https://mirrors.bfsu.edu.cn/apache/hbase/">https://mirrors.bfsu.edu.cn/apache/hbase/</a></p>
</blockquote>
<img src="/posts/ec060e02/image-20200929100114445.png" class="" title="image-20200929100114445">

<blockquote>
<p>é€‰æ‹©1.6.0ï¼Œä¸‹è½½tar.gzå‹ç¼©åŒ…</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929100159559.png" class="" title="image-20200929100159559">

<blockquote>
<p>è§£å‹</p>
</blockquote>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">tar</span> xzvf hbase-1.6.0-bin.tar.gz <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929102107183.png" class="" title="image-20200929102107183">

<blockquote>
<p>æŸ¥çœ‹</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929102212291.png" class="" title="image-20200929102212291">



<h3 id="2-é…ç½®Hbase"><a href="#2-é…ç½®Hbase" class="headerlink" title="2. é…ç½®Hbase"></a>2. é…ç½®Hbase</h3><blockquote>
<p>è¿›å…¥HBaseå®‰è£…ä¸»ç›®å½•çš„confç›®å½•ï¼Œç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">cd conf/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="1-ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env-sh"><a href="#1-ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env-sh" class="headerlink" title="(1) ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env.sh"></a>(1) ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env.sh</h4><pre class="line-numbers language-shell"><code class="language-shell">gedit hbase-env.sh

ä¿®æ”¹JAVA_HOME:
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929103119874.png" class="" title="image-20200929103119874">

<h4 id="2-ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site-xml"><a href="#2-ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site-xml" class="headerlink" title="(2) ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site.xml"></a>(2) ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site.xml</h4><blockquote>
<p>å°†hbase-site.xmlä¿®æ”¹ä¸ºâ€˜</p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span>
<span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span>
<span class="token comment" spellcheck="true">&lt;!--
/**
 *
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.cluster.distributed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.rootdir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>hdfs://master:9000/hbase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.zookeeper.quorum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.master.info.port<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>60010<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929103343424.png" class="" title="image-20200929103343424">

<h4 id="3-è®¾ç½®-regionservers"><a href="#3-è®¾ç½®-regionservers" class="headerlink" title="(3) è®¾ç½® regionservers"></a>(3) è®¾ç½® regionservers</h4><blockquote>
<p>å°†regionserversä¸­çš„localhostä¿®æ”¹ä¸º: slave</p>
</blockquote>
<h4 id="4-è®¾ç½®ç¯å¢ƒå˜é‡"><a href="#4-è®¾ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="(4) è®¾ç½®ç¯å¢ƒå˜é‡"></a>(4) è®¾ç½®ç¯å¢ƒå˜é‡</h4><pre class="line-numbers language-shell"><code class="language-shell">gedit ~/.bash_profile

å°†ä¸‹é¢ä»£ç æ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼š
#HBase
export HBASE_HOME=/home/parak/HBase/hbase-1.6.0
export PATH=$HBASE_HOME/bin:$PATH
export HADOOP_CLASSPATH=$HBASE_HOME/lib/*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929104148521.png" class="" title="image-20200929104148521">

<h4 id="5-å°†HBaseå¤åˆ¶åˆ°Slaveç»“ç‚¹"><a href="#5-å°†HBaseå¤åˆ¶åˆ°Slaveç»“ç‚¹" class="headerlink" title="(5) å°†HBaseå¤åˆ¶åˆ°Slaveç»“ç‚¹"></a>(5) å°†HBaseå¤åˆ¶åˆ°Slaveç»“ç‚¹</h4><pre class="line-numbers language-shell"><code class="language-shell">scp -r /home/parak/HBase/hbase-1.6.0 slave:/home/parak/HBase/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929104703378.png" class="" title="image-20200929104703378">

<blockquote>
<p>æŸ¥çœ‹slaveç»“ç‚¹çš„HBaseæ–‡ä»¶å¤¹</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929104827983.png" class="" title="image-20200929104827983">



<h3 id="3-éªŒè¯å¹¶å¯åŠ¨HBase"><a href="#3-éªŒè¯å¹¶å¯åŠ¨HBase" class="headerlink" title="3. éªŒè¯å¹¶å¯åŠ¨HBase"></a>3. éªŒè¯å¹¶å¯åŠ¨HBase</h3><blockquote>
<p>å…ˆå¯åŠ¨Hadoop: start-all.sh</p>
<p>å†å¯åŠ¨Hbase: start-hbase.sh</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929105006101.png" class="" title="image-20200929105006101">

<blockquote>
<p>å¯åŠ¨HBaseå‡ºç°é”™è¯¯</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929110647176.png" class="" title="image-20200929110647176">

<p>æˆ‘æ„è¯†åˆ°æ˜¯Hadoop-2.9.2ä¸HBase-1.6.0çš„ç‰ˆæœ¬åŒ¹é…é—®é¢˜ï¼Œäºæ˜¯æˆ‘ä¸‹è½½HBase-2.2.6ã€‚</p>
<h3 id="4-é‡æ–°ä¸‹è½½é…ç½®HBase-2-2-6"><a href="#4-é‡æ–°ä¸‹è½½é…ç½®HBase-2-2-6" class="headerlink" title="4. é‡æ–°ä¸‹è½½é…ç½®HBase-2.2.6"></a>4. é‡æ–°ä¸‹è½½é…ç½®HBase-2.2.6</h3><blockquote>
<p>ä¸‹è½½</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929110514041.png" class="" title="image-20200929110514041">

<img src="/posts/ec060e02/image-20200929110553845.png" class="" title="image-20200929110553845">

<blockquote>
<p>è§£å‹: tar xzvf hbase-2.2.6-bin.tar.gz</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929110818266.png" class="" title="image-20200929110818266">

<blockquote>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-env.sh</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929111024747.png" class="" title="image-20200929111024747">

<blockquote>
<p>ä¿®æ”¹é…ç½®æ–‡ä»¶hbase-site.xml</p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0"?></span>
<span class="token prolog">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?></span>
<span class="token comment" spellcheck="true">&lt;!--
/*
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!--
    The following properties are set for running HBase as a single process on a
    developer workstation. With this configuration, HBase is running in
    "stand-alone" mode and without a distributed file system. In this mode, and
    without further configuration, HBase and ZooKeeper data are stored on the
    local filesystem, in a path under the value configured for `hbase.tmp.dir`.
    This value is overridden from its default value of `/tmp` because many
    systems clean `/tmp` on a regular basis. Instead, it points to a path within
    this HBase installation directory.

    Running against the `LocalFileSystem`, as opposed to a distributed
    filesystem, runs the risk of data integrity issues and data loss. Normally
    HBase will refuse to run in such an environment. Setting
    `hbase.unsafe.stream.capability.enforce` to `false` overrides this behavior,
    permitting operation. This configuration is for the developer workstation
    only and __should not be used in production!__

    See also https://hbase.apache.org/book.html#standalone_dist
  --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.cluster.distributed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>./tmp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.unsafe.stream.capability.enforce<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.rootdir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>hdfs://master:9000/hbase<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.zookeeper.quorum<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>master<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hbase.master.info.port<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>60010<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929111344171.png" class="" title="image-20200929111344171">

<blockquote>
<p>ä¿®æ”¹regionserversæ–‡ä»¶</p>
</blockquote>
<p><img src="Hadoop%5Cimage-20200929113716160.png" alt="image-20200929113716160"></p>
<blockquote>
<p>å°†HBaseå¤åˆ¶åˆ°SlaveèŠ‚ç‚¹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">scp -r /home/parak/HBase/hbase-2.2.6 slave:/home/parak/HBase<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929112324004.png" class="" title="image-20200929112324004">

<blockquote>
<p>å†æ¬¡å¯åŠ¨Hbase</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929113827901.png" class="" title="image-20200929113827901">

<blockquote>
<p>æ‰“å¼€FireFoxï¼Œè¿›å…¥<a target="_blank" rel="noopener" href="http://master:60010/">http://master:60010</a></p>
</blockquote>
<img src="/posts/ec060e02/image-20200929113959833.png" class="" title="image-20200929113959833">

<p>è¯´æ˜HBaseå¯åŠ¨æˆåŠŸ</p>
<h3 id="4-å…³é—­HBase"><a href="#4-å…³é—­HBase" class="headerlink" title="4. å…³é—­HBase"></a>4. å…³é—­HBase</h3><blockquote>
<p>å…ˆå…³é—­HBase: stop-hbase.sh</p>
<p>å†å…³é—­Hadoop: stop-all.sh</p>
</blockquote>
<img src="/posts/ec060e02/image-20200929114148065.png" class="" title="image-20200929114148065">



<h2 id="9-HBase-Shellå‘½ä»¤æ“ä½œ"><a href="#9-HBase-Shellå‘½ä»¤æ“ä½œ" class="headerlink" title="9. HBase Shellå‘½ä»¤æ“ä½œ"></a>9. HBase Shellå‘½ä»¤æ“ä½œ</h2><h3 id="1-å¯åŠ¨HBase-Shell"><a href="#1-å¯åŠ¨HBase-Shell" class="headerlink" title="1. å¯åŠ¨HBase Shell"></a>1. å¯åŠ¨HBase Shell</h3><h4 id="1-å¯åŠ¨HBase-Shellç•Œé¢"><a href="#1-å¯åŠ¨HBase-Shellç•Œé¢" class="headerlink" title="(1) å¯åŠ¨HBase Shellç•Œé¢"></a>(1) å¯åŠ¨HBase Shellç•Œé¢</h4><pre class="line-numbers language-shell"><code class="language-shell">hbase shell<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929191351747.png" class="" title="image-20200929191351747">

<h4 id="2-HBase-Shellçš„helpå‘½ä»¤"><a href="#2-HBase-Shellçš„helpå‘½ä»¤" class="headerlink" title="(2) HBase Shellçš„helpå‘½ä»¤"></a>(2) HBase Shellçš„helpå‘½ä»¤</h4><pre class="line-numbers language-shell"><code class="language-shell">help<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929191531507.png" class="" title="image-20200929191531507">

<blockquote>
<p>æŸ¥çœ‹HBaseå»ºè¡¨å‘½ä»¤createçš„ç”¨æ³•</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">help "create"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929191618099.png" class="" title="image-20200929191618099">



<h3 id="2-åˆ›å»ºHBaseæ•°æ®è¡¨"><a href="#2-åˆ›å»ºHBaseæ•°æ®è¡¨" class="headerlink" title="2. åˆ›å»ºHBaseæ•°æ®è¡¨"></a>2. åˆ›å»ºHBaseæ•°æ®è¡¨</h3><blockquote>
<p>HBaseä¸­ç”¨createå‘½ä»¤åˆ›å»ºè¡¨</p>
</blockquote>
<pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token string">'student'</span><span class="token punctuation">,</span> <span class="token string">'Sname'</span><span class="token punctuation">,</span> <span class="token string">'Ssex'</span><span class="token punctuation">,</span> <span class="token string">'Sage'</span><span class="token punctuation">,</span> <span class="token string">'Sdept'</span><span class="token punctuation">,</span> <span class="token string">'course'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929191856923.png" class="" title="image-20200929191856923">

<blockquote>
<p>æŸ¥çœ‹â€™studentâ€™è¡¨çš„å±æ€§</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">describe 'student'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929191953519.png" class="" title="image-20200929191953519">



<h3 id="3-HBaseæ•°æ®åº“åŸºæœ¬æ“ä½œ"><a href="#3-HBaseæ•°æ®åº“åŸºæœ¬æ“ä½œ" class="headerlink" title="3. HBaseæ•°æ®åº“åŸºæœ¬æ“ä½œ"></a>3. HBaseæ•°æ®åº“åŸºæœ¬æ“ä½œ</h3><h4 id="1-æ·»åŠ æ•°æ®"><a href="#1-æ·»åŠ æ•°æ®" class="headerlink" title="(1) æ·»åŠ æ•°æ®"></a>(1) æ·»åŠ æ•°æ®</h4><blockquote>
<p>putå‘½ä»¤æ·»åŠ æ•°æ®ï¼Œä¸€æ¬¡åªèƒ½ä¸ºä¸€ä¸ªè¡¨çš„ä¸€è¡Œæ•°æ®çš„ä¸€ä¸ªåˆ—æ·»åŠ ä¸€ä¸ªæ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">put 'student', '95001', 'Sname', 'Li Ying'
put 'student', '95001', 'Sdept', 'CS'
put 'student', '95001', 'course:math', '81'
put 'student', '95001', 'course:english', '85'
put 'student', '95002', 'course:math', '83'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929193655517.png" class="" title="image-20200929193655517">



<h4 id="2-æŸ¥çœ‹æ•°æ®"><a href="#2-æŸ¥çœ‹æ•°æ®" class="headerlink" title="(2) æŸ¥çœ‹æ•°æ®"></a>(2) æŸ¥çœ‹æ•°æ®</h4><blockquote>
<p>æŸ¥çœ‹è¡¨æŸä¸€è¡Œçš„æ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">get 'student', '95001'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929194017359.png" class="" title="image-20200929194017359">

<blockquote>
<p>æŸ¥çœ‹è¡¨çš„å…¨éƒ¨æ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">scan 'student'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929194135877.png" class="" title="image-20200929194135877">



<h4 id="3-åˆ é™¤æ•°æ®"><a href="#3-åˆ é™¤æ•°æ®" class="headerlink" title="(3) åˆ é™¤æ•°æ®"></a>(3) åˆ é™¤æ•°æ®</h4><blockquote>
<p>deleteå‘½ä»¤åˆ é™¤æŸä¸€é¡¹æ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">delete 'student', '95001', 'Ssex'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929194514884.png" class="" title="image-20200929194514884">

<blockquote>
<p>deleteå‘½ä»¤åˆ é™¤æŸè¡Œçš„å…¨éƒ¨æ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">delete 'student','95001'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929194626605.png" class="" title="image-20200929194626605">



<h4 id="4-åˆ é™¤è¡¨"><a href="#4-åˆ é™¤è¡¨" class="headerlink" title="(4) åˆ é™¤è¡¨"></a>(4) åˆ é™¤è¡¨</h4><pre class="line-numbers language-shell"><code class="language-shell">disable 'student'
drop 'student'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929193442627.png" class="" title="image-20200929193442627">



<h3 id="4-æŸ¥è¯¢HBaseæ•°æ®è¡¨çš„å†å²æ•°æ®"><a href="#4-æŸ¥è¯¢HBaseæ•°æ®è¡¨çš„å†å²æ•°æ®" class="headerlink" title="4. æŸ¥è¯¢HBaseæ•°æ®è¡¨çš„å†å²æ•°æ®"></a>4. æŸ¥è¯¢HBaseæ•°æ®è¡¨çš„å†å²æ•°æ®</h3><blockquote>
<p>åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ï¼ŒæŒ‡å®šä¿å­˜çš„ç‰ˆæœ¬æ•°</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">create 'teacher', &#123;NAME=>'username', VERSIONS=>5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929203801474.png" class="" title="image-20200929203801474">

<blockquote>
<p>æ’å…¥æ•°æ®ç„¶åæ›´æ–°æ•°æ®ï¼Œä½¿å…¶äº§ç”Ÿå†å²ç‰ˆæœ¬æ•°æ®</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">put 'teacher', '91001', 'username', 'Mary'
put 'teacher', '91001', 'username', 'Mary1'
put 'teacher', '91001', 'username', 'Mary2'
put 'teacher', '91001', 'username', 'Mary3'
put 'teacher', '91001', 'username', 'Mary4'
put 'teacher', '91001', 'username', 'Mary5'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929204220031.png" class="" title="image-20200929204220031">

<blockquote>
<p>æŸ¥è¯¢æ—¶ï¼ŒæŒ‡å®šæŸ¥è¯¢çš„å†å²ç‰ˆæœ¬ä¹¦ï¼ˆé»˜è®¤ä¼šæŸ¥è¯¢å‡ºæœ€æ–°çš„æ•°æ®ï¼‰</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">get 'teacher', '91001', &#123;COLUMN=>'username', VERSIONS=>5&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<img src="/posts/ec060e02/image-20200929204245861.png" class="" title="image-20200929204245861">



<h3 id="5-é€€å‡ºHBase-Shell"><a href="#5-é€€å‡ºHBase-Shell" class="headerlink" title="5. é€€å‡ºHBase Shell"></a>5. é€€å‡ºHBase Shell</h3><pre class="line-numbers language-sh"><code class="language-sh">exit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
 
      <!-- reward -->
      
      <div id="reword-out">
        <div id="reward-btn">
          æ‰“èµ
        </div>
      </div>
      
    </div>
    

    <!-- copyright -->
    
    <div class="declare">
      <ul class="post-copyright">
        <li>
          <i class="ri-copyright-line"></i>
          <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
          
          æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œè‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
          
        </li>
      </ul>
    </div>
    
    <footer class="article-footer">
       
<div class="share-btn">
      <span class="share-sns share-outer">
        <i class="ri-share-forward-line"></i>
        åˆ†äº«
      </span>
      <div class="share-wrap">
        <i class="arrow"></i>
        <div class="share-icons">
          
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="ri-weibo-fill"></i>
          </a>
          <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="ri-wechat-fill"></i>
          </a>
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="ri-qq-fill"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="ri-douban-line"></i>
          </a>
          <!-- <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a> -->
          
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="ri-facebook-circle-fill"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="ri-twitter-fill"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="ri-google-fill"></i>
          </a>
        </div>
      </div>
</div>

<div class="wx-share-modal">
    <a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a>
    <p>æ‰«ä¸€æ‰«ï¼Œåˆ†äº«åˆ°å¾®ä¿¡</p>
    <div class="wx-qrcode">
      <img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=http://example.com/posts/ec060e02/" alt="å¾®ä¿¡åˆ†äº«äºŒç»´ç ">
    </div>
</div>

<div id="share-mask"></div>  
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hadoop/" rel="tag">Hadoop</a></li></ul>

    </footer>
  </div>

   
  <nav class="article-nav">
    
      <a href="/posts/12bcd26e/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
        <div class="article-nav-title">
          
            åšå¼ˆè®º
          
        </div>
      </a>
    
    
      <a href="/posts/1c6ba3e2/" class="article-nav-link">
        <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
        <div class="article-nav-title">Netty</div>
      </a>
    
  </nav>

   
<!-- valineè¯„è®º -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<!-- <script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script> -->
<!-- <script src="//unpkg.com/valine/dist/Valine.min.js"></script> -->
<script src="/js/Valine.min.js"></script>

<style>
    /* è®¾ç½®è¯„è®ºèƒŒæ™¯ */
    #veditor{min-height: 10rem;
        background-image: url('/images/comment-bg.jpg');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: right;
        background-color: rgba(255,255,255,0);
        resize: none;
    }

    /* è®¾ç½®å¤´åƒæ—‹è½¬ */
    .v .vcards .vcard .vimg {
        width: 3.125em;
        height: 3.125em;
        float: left;
        border-radius: 50%;
        margin-right: .7525em;
        padding: 0.125em;
        border: 1px solid #FFA500;
        opacity: 1;
        transition: all 1.0s;
    }

    .v .vcards .vcard .vimg:hover {
        box-shadow: 0 0 10px #fff;
        -webkit-box-shadow: 0 0 19px #fff;
        transform:rotate(360deg);
        -ms-transform:rotate(360deg); 	  /* IE 9 */
        -moz-transform:rotate(360deg); 	  /* Firefox */
        -webkit-transform:rotate(360deg); /* Safari å’Œ Chrome */
        -o-transform:rotate(360deg); 	  /* Opera */
        filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
    }
</style>
<!-- Valineé…ç½® -->
<script>
    new Valine({
        el: '#vcomments',
        enableQQ: true,
        app_id: 'Py2eOHzSdrnxKPzKrOJaHJOq-9Nh9j0Va',
        app_key: '9eQhwuCgyshpYKn4rtEhqt4R',
        path: window.location.pathname,
        //notify: 'false',
        //verify: 'false',
        avatar: 'wavatar',
        placeholder: 'å»ºè®®ä½¿ç”¨QQé‚®ç®±ï¼Œä¼šè‡ªåŠ¨è·å–QQå¤´åƒ~',
        recordIP: true,

        // è®¾ç½®Bilibiliè¡¨æƒ…åŒ…åœ°å€
        emojiCDN: '//i0.hdslb.com/bfs/emote/',
        // è¡¨æƒ…titleå’Œå›¾ç‰‡æ˜ å°„
        emojiMaps: {
           "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
            "tv_äº²äº²": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
            "tv_å·ç¬‘": "bb690d4107620f1c15cff29509db529a73aee261.png",
            "tv_å†è§": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
            "tv_å†·æ¼ ": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
            "tv_å‘æ€’": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
            "tv_å‘è´¢": "34db290afd2963723c6eb3c4560667db7253a21a.png",
            "tv_å¯çˆ±": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
            "tv_åè¡€": "09dd16a7aa59b77baa1155d47484409624470c77.png",
            "tv_å‘†": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
            "tv_å‘•å": "9f996894a39e282ccf5e66856af49483f81870f3.png",
            "tv_å›°": "241ee304e44c0af029adceb294399391e4737ef2.png",
            "tv_åç¬‘": "1f0b87f731a671079842116e0991c91c2c88645a.png",
            "tv_å¤§ä½¬": "093c1e2c490161aca397afc45573c877cdead616.png",
            "tv_å¤§å“­": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
            "tv_å§”å±ˆ": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
            "tv_å®³ç¾": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
            "tv_å°´å°¬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
            "tv_å¾®ç¬‘": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
            "tv_æ€è€ƒ": "90cf159733e558137ed20aa04d09964436f618a1.png",
            "tv_æƒŠå“": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
            // ... æ›´å¤šè¡¨æƒ…
        }
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>

<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

 
     
</article>

</section>
      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2020-2021
        <i class="ri-heart-fill heart_icon"></i> Khighness
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>è®¿é—®äººæ•°:<span id="busuanzi_value_site_uv"></span></s>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>æµè§ˆæ¬¡æ•°:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s4.cnzz.com/z_stat.php?id=1279324689&amp;web_id=1279324689'></script>
        
      </li>
    </ul>
  </div>
</footer>
      <div class="float_btns">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

      </div>
    </main>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="https://cdn.jsdelivr.net/gh/Khighness/Khighness.github.io/images/Khighness.jpg" alt="Khighness"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">å…³äº</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">å‹é“¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://www.tidio.com/talk/Khighness">è”ç³»</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="æœç´¢">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <script>
      if (window.matchMedia("(max-width: 768px)").matches) {
        document.querySelector('.content').classList.remove('on');
        document.querySelector('.sidebar').classList.remove('on');
      }
    </script>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>æ¥æ¯æŠ¹èŒ¶ï¼Ÿ</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Khighness/Khighness.github.io/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="https://cdn.jsdelivr.net/gh/Khighness/Khighness.github.io/images/wepay.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->


<script src="/js/tocbot.min.js"></script>

<script>
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto'
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>

<!-- MathJax -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>

<!-- Katex -->


    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script>
        
    


<!-- busuanzi  -->


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<!-- ClickLove -->

<!-- ClickBoom1 -->

<script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script>

<script src="/js/clickBoom1.js"></script>


<!-- ClickBoom2 -->

<!-- CodeCopy -->


<link rel="stylesheet" href="/css/clipboard.css">

<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // ç­‰å¾…ä¸¤ç§’é’Ÿåæ¢å¤
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>


<!-- CanvasBackground -->


    
  </div>
  <!-- ç™¾åº¦ç»Ÿè®¡ -->
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?97974cf7c750ac7da47173f2992d6970";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  <!-- ä¸‰è§’å½©å¸¦èƒŒæ™¯ -->
  <canvas id="evanyou-canvas" style="opacity: 0.3; position: fixed; top: 0px; left: 0px; z-index: -1; width: 100%; height: 100%; pointer-events: none;"></canvas>
  <script src="/js/evanyou-canvas.js"></script>
  <!-- Tidioå³æ—¶èŠå¤©-->
  <script src="//code.tidio.co/ao1f4qdjllf8yowzz7v5brdaejt42uoi.js" async></script>
</body>

</html>
